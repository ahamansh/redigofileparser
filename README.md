# redigofileparser Go API Server for parsing file in Async way

This is a Task API

## Overview
This server was generated by the [swagger-codegen] Using the Swagger Limited Edition
(https://github.com/swagger-api/swagger-codegen) project.  
By using the [OpenAPI-Spec](https://github.com/OAI/OpenAPI-Specification) from a remote server, you can easily generate a server stub.  
-

To see how to make this your own, look here:

[README](https://github.com/swagger-api/swagger-codegen/blob/master/README.md)

- API version: V1
- Build date: 2022-06-27T11:40:15.492Z[GMT]


### Running the server
To run the server, follow these simple steps:

```
Start Redis docker 
we need 2 things to run current Application 
Redis URL and password


To run Standalone Mode

Uncommnent from main.go below lines and change the URL with the 
	// os.Setenv("REDIS_SERVER_URL","localhost:55000")
	// os.Setenv("REDIS_SERVER_PWD","redispw")

Update the folder path in internla/constants pakage (DEFAULT_LOCAL_FILE_FOLDER)
go run main.go


---------------------------

To run Debug Mode
Update Redis URL and password in lanch.json
Update the folder path in internla/constants pakage (DEFAULT_LOCAL_FILE_FOLDER)
Open Main.go file and vscode debugger select launch.json and start debugging

```


### APIS TO CHECK
Swagger specs are present in api/swagger.yaml
use openAPI3 viewr or swagger UI to view the file
```
Apis to be used 

GET 
http://localhost:8080/anshul2/crowdstrike/v1/search/filesByIP?ip=127.0.0.1

GET
http://localhost:8080/anshul2/crowdstrike/v1/tasks/<TaskID>

POST
http://localhost:8080/anshul2/crowdstrike/v1/tasks
payload as 
{
  "fileID": "3b38f38e-b727-4c56-942d-8cb0a742790c"
}
```

### Future Enhancements to run in production

Assumptions: 
File is constant changing hence multiple requests can come for the same file, If we move to version based system we can pass file path along with file id in post request

```
# Add Proper Validation in middleware (USer OPENAPI code gen to auto generate the stub for validation and adding the path and url params in context attribute)
# Add Auth layer in middleware and return types
# Add proper test cases
# Add proper Regex parser with large file processed in buffers and chunks of data
# Add CICD folder along with Jenkins files
# Add Build.sh and correct the docker file with certificates 
# Add Logging and tracing 
# Add Synthetic monitors for APIs
# Add monitors on CPU and Memory
```



### References
https://github.com/go-redis/redis/blob/master/example_test.go
https://github.com/backstitch/go-to-work/blob/master/worker.go

